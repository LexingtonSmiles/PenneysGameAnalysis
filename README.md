# Penney's Game Project

This repository stores the first project of DATA 440 in Fall 2025: Penney's Game.

- **Penney’s Game** is a paradoxical coin-tossing game where two players choose different sequences of coin flips (e.g., `HTH` vs `TTH`). Despite appearing fair, one sequence always has a probabilistic advantage over the other. Read the details of the Penney's Game [here] (https://en.wikipedia.org/wiki/Penney%27s_game). 
- **Humble–Nishiyama Randomness Game** is a variation of Penney’s Game which features a deck of playing cards that substitutes the heads and tails of a coin with 26 red cards and 26 black cards. Read the details of Humble–Nishiyama Randomness Game [here](https://mathwo.github.io/assets/files/penney_game/humble-nishiyama_randomness_game-a_new_variation_on_penneys_coin_game.pdf).

## Purpose

This code simulates the Humble-Nishiyama Randomness Game, a variation on Penney's Game. 

The aim of this project is to:
- Generate and store randomized decks of outcomes.
- Provide tools for running simulations with reproducible randomness.
- Explore empirical probabilities and confirm theoretical predictions.

## QUICK START GUIDE

To run the analysis of Penney's Game, use uv to sync the virtual environment. After that, run `main.py` in the virtual environment.
You will be prompted as to if you want to augment the data. Then will be prompted as to the number of decks you wish to add to the dataset. After that, analysis wil be run and the heatmaps of the empirical probabilites of winning (and drawing) will be generated and saved in the **`figures/`** folder. If you do not wish to augment the data, the heatmaps that contail the empirical probabilites will be (re)generated.

## File Descriptions

- **`main.py`**: The main entry point for the application. This script handles user interaction and orchestrates the data generation and analysis pipeline.

- **`data/`**: This directory contains the generated deck files. Each file is a NumPy array of simulated card decks.

- **`outputs/`**: This directory contains the results of the analysis. The `scoring_analysis.csv` file contains the win/loss/draw statistics for each player combination.

- **`figures/`**: This directory contains the heatmaps generated by `heatmap.py`.

- **`src/`**: This directory contains the source code for the project.
    - **`datageneration.py`**: This script contains functions for generating and saving the simulated card decks.
    - **`scoring.py`**: This script contains functions for loading the deck files, scoring the games, and calculating win/loss/draw statistics.
    - **`heatmap.py`**: This script contains functions for generating heatmaps from the scoring data.
    - **`wrappers.py`**: This script contains a decorator for measuring the performance of file read/write operations.
    - **`testerheatmap.ipynb`**: A Jupyter notebook for testing and developing the heatmap generation code.

- **`DataGeneration.md`**: This file provides a detailed explanation of the data generation and storage methods that were tested and the results of those tests.

- **`Scoring.md`**: This file provides a detailed explanation of the scoring logic and the different methods that were considered.
